{% extends 'base/basic.html' %}

{% block title %}Chat{% endblock %}

{% block css %}

    <!--CSS Page Chat-->
    <link rel="stylesheet" href="{{ url_for('static', path='/assets/vendor/css/pages/app-chat.css')}}" />
{% endblock %}

{% block content %}
<div class="app-chat card overflow-hidden">
                <div class="row g-0">
                  <!-- Chat & Contacts -->
                  <div style="max-width: 250px;"
                    class="col app-chat-contacts app-sidebar flex-grow-0 overflow-hidden border-end"
                    id="app-chat-contacts"
                  >
                    <div class="sidebar-body">
                      <!-- Contacts -->
                      <ul class="list-unstyled chat-contact-list mb-0" id="contact-list">
                        <li class="chat-contact-list-item chat-contact-list-item-title">
                          <h5 class="text-primary mb-0">Online Users</h5>
                        </li>
                        <li class="chat-contact-list-item contact-list-item-0 d-none">
                          <h6 class="">No Contacts Found</h6>
                        </li>
                        <li class="chat-contact-list-item">
                          <a class="d-flex align-items-center">
                            <div class="flex-shrink-0 avatar avatar-online">
                              <img src="{{ url_for('static', path='/assets/img/avatars/basic.jpg') }}" alt="Avatar" class="rounded-circle" />
                            </div>
                            <div class="chat-contact-info flex-grow-1 ms-2">
                              <h6 class="chat-contact-name text-truncate m-0">No name</h6>
                            </div>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <!-- /Chat contacts -->

                  <!-- Chat History -->
                  <div class="col app-chat-history bg-body">
                    <div class="chat-history-wrapper">
                      <div class="chat-history-body bg-body">
                        <ul id="block_message" class="list-unstyled chat-history">

                        </ul>
                      </div>
                      <!-- Chat message form -->
                      <div class="chat-history-footer shadow-sm">
                        <form class="form-send-message d-flex justify-content-between align-items-center">
                          <input
                            id="my_message"
                            class="form-control message-input border-0 me-3 shadow-none"
                            placeholder="Type your message here"
                          />
                          <div class="message-actions d-flex align-items-center">
                            <p id="name_insert_image" data-bs-toggle="modal" data-bs-target="#showImagePreview" class="my-auto cursor-pointer"></p>
                            <label for="insert_image_chat" class="form-label mb-0">
                              <i class="ti ti-photo ti-sm cursor-pointer mx-3"></i>
                              <input type="file" onchange="get_image(this)" id="insert_image_chat" hidden />
                            </label>
                            <button type="button" class="btn btn-primary d-flex send-msg-btn">
                              <i class="ti ti-send me-md-1 me-0"></i>
                              <span onclick="send_message(this)" class="align-middle d-md-inline-block d-none">Send</span>
                            </button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  <!-- /Chat History -->
                  <div class="app-overlay"></div>
                </div>
              </div>
    <!-- Import Wallet Modal -->
              <div class="modal fade" id="showImagePreview" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered1 modal-simple modal-add-new-cc">
                  <div class="modal-content p-3 p-md-5">
                    <div class="modal-body">
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      <div class="text-center mb-4">
                        <h3 id="header_name_image" class="mb-2">Image</h3>
                      </div>
                      <div>
                          <img height="auto" width="100%" id="check_image" src="" alt="">
                      </div>
                        <div class="text-center">
                        <button type="button" onclick="delete_image()" data-bs-dismiss="modal" aria-label="Close" class="btn btn-danger mt-3">Видалити</button>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--/ Import wallet modal -->
{% endblock %}

{% block script %}
    <script src="{{ url_for('static', path='/crypto/js/chat.js') }}"></script>
    <script>
    let base_image = "{{ url_for('static', path='/assets/img/avatars/basic.jpg') }}"
    </script>
{% endblock %}